webpackJsonp([3],{"/rwO":function(t,s,a){"use strict";function i(t){a("G2ol")}Object.defineProperty(s,"__esModule",{value:!0});var e=a("e75Y"),d=a("T523"),c=a("VU/8"),l=i,n=c(e.a,d.a,!1,l,null,null);s.default=n.exports},G2ol:function(t,s,a){var i=a("aFX8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("1e482920",i,!0)},T523:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("nav-header"),t._v(" "),a("nav-bread",[a("span",[t._v("收货地址")])]),t._v(" "),a("div",{staticClass:"checkout-page"},[a("svg",{staticStyle:{position:"absolute",width:"0",height:"0",overflow:"hidden"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("defs",[a("symbol",{attrs:{id:"icon-add",viewBox:"0 0 31 32"}},[a("title",[t._v("add")]),t._v(" "),a("path",{staticClass:"path1",attrs:{d:"M30.745 15.152h-14.382v-14.596c0-0.308-0.243-0.557-0.543-0.557s-0.543 0.249-0.543 0.557v14.596h-14.665c-0.3 0-0.543 0.249-0.543 0.557s0.243 0.557 0.543 0.557h14.665v15.177c0 0.307 0.243 0.557 0.543 0.557s0.543-0.249 0.543-0.557v-15.177h14.382c0.3 0 0.543-0.249 0.543-0.557s-0.243-0.557-0.543-0.557z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-ok",viewBox:"0 0 32 32"}},[a("title",[t._v("ok")]),t._v(" "),a("path",{staticClass:"path1",attrs:{d:"M14.084 20.656l-7.845-9.282c-1.288-1.482-3.534-1.639-5.016-0.351s-1.639 3.534-0.351 5.016l10.697 12.306c1.451 1.669 4.057 1.623 5.448-0.096l18.168-22.456c1.235-1.527 0.999-3.765-0.528-5.001s-3.765-0.999-5.001 0.528l-15.573 19.337z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-edit",viewBox:"0 0 32 32"}},[a("title",[t._v("edit")]),t._v(" "),a("path",{staticClass:"path1",attrs:{d:"M28.287 8.51l-4.805-4.806 0.831-0.831c0.472-0.472 1.086-0.777 1.564-0.777 0.248 0 0.452 0.082 0.622 0.253l3.143 3.144c0.539 0.54 0.133 1.529-0.524 2.186l-0.831 0.831zM26.805 9.992l-1.138 1.138-4.805-4.806 1.138-1.138 4.805 4.806zM24.186 12.612l-14.758 14.762-4.805-4.806 14.758-14.762 4.805 4.806zM7.379 28.288l-4.892 1.224 1.223-4.894 3.669 3.67zM31.123 4.011l-3.143-3.144c-0.567-0.567-1.294-0.867-2.103-0.867-1.036 0-2.174 0.52-3.045 1.391l-20.429 20.436c-0.135 0.134-0.23 0.302-0.276 0.487l-2.095 8.385c-0.089 0.355 0.017 0.736 0.276 0.995 0.198 0.198 0.461 0.307 0.741 0.307 0.085 0 0.171-0.010 0.254-0.031l8.381-2.096c0.185-0.047 0.354-0.142 0.487-0.276l20.43-20.436c1.409-1.41 2.042-3.632 0.524-5.15v0z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-del",viewBox:"0 0 32 32"}},[a("title",[t._v("delete")]),t._v(" "),a("path",{staticClass:"path1",attrs:{d:"M11.355 4.129v-2.065h9.29v2.065h-9.29zM6.194 29.935v-23.742h19.613v23.742h-19.613zM30.968 4.129h-8.258v-3.097c0-0.569-0.463-1.032-1.032-1.032h-11.355c-0.569 0-1.032 0.463-1.032 1.032v3.097h-8.258c-0.569 0-1.032 0.463-1.032 1.032s0.463 1.032 1.032 1.032h3.097v24.774c0 0.569 0.463 1.032 1.032 1.032h21.677c0.569 0 1.032-0.463 1.032-1.032v-24.774h3.097c0.569 0 1.032-0.463 1.032-1.032s-0.463-1.032-1.032-1.032v0z"}}),t._v(" "),a("path",{staticClass:"path2",attrs:{d:"M10.323 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),t._v(" "),a("path",{staticClass:"path3",attrs:{d:"M16 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),t._v(" "),a("path",{staticClass:"path4",attrs:{d:"M21.677 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-clock",viewBox:"0 0 32 32"}},[a("title",[t._v("clock")]),t._v(" "),a("path",{staticClass:"path1",attrs:{d:"M29.333 16c0-7.364-5.97-13.333-13.333-13.333s-13.333 5.97-13.333 13.333c0 7.364 5.97 13.333 13.333 13.333s13.333-5.97 13.333-13.333v0 0 0 0 0 0zM0 16c0-8.837 7.163-16 16-16s16 7.163 16 16c0 8.837-7.163 16-16 16s-16-7.163-16-16zM14.667 14.667v1.333h2.667v-10.667h-2.667v9.333zM24 18.667h1.333v-2.667h-10.667v2.667h9.333z"}})]),t._v(" "),a("symbol",{attrs:{id:"icon-question",viewBox:"0 0 32 32"}},[a("title",[t._v("question")]),t._v(" "),a("path",{staticClass:"path1",attrs:{d:"M16 2.56c7.411 0 13.44 6.029 13.44 13.44s-6.029 13.44-13.44 13.44c-7.411 0-13.44-6.029-13.44-13.44s6.029-13.44 13.44-13.44zM16 0c-8.822 0-16 7.178-16 16s7.178 16 16 16c8.822 0 16-7.178 16-16s-7.178-16-16-16z"}}),t._v(" "),a("path",{staticClass:"path2",attrs:{d:"M16 22.080c-1.059 0-1.92 0.861-1.92 1.92s0.861 1.92 1.92 1.92c1.059 0 1.92-0.861 1.92-1.92s-0.861-1.92-1.92-1.92z"}}),t._v(" "),a("path",{staticClass:"path3",attrs:{d:"M12.16 12.48c0.706 0 1.28-0.574 1.28-1.28 0-1.412 1.148-2.56 2.56-2.56s2.56 1.148 2.56 2.56c0 1.412-1.148 2.56-2.56 2.56-0.706 0-1.28 0.574-1.28 1.28v3.84c0 0.706 0.574 1.28 1.28 1.28s1.28-0.574 1.28-1.28v-2.723c2.224-0.575 3.84-2.616 3.84-4.957 0-2.823-2.297-5.12-5.12-5.12s-5.12 2.297-5.12 5.12c0 0.706 0.574 1.28 1.28 1.28z"}})])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"checkout-addr"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"addr-list-wrap"},[a("div",{staticClass:"addr-list"},[a("ul",[t._l(t.addressListFilter,function(s,i){return a("li",{class:{check:t.checkIndex==i},on:{click:function(a){t.checkIndex=i,t.selectedAddrId=s.addressId}}},[a("dl",[a("dt",[t._v(t._s(s.userName))]),t._v(" "),a("dd",{staticClass:"address"},[t._v(t._s(s.streetName))]),t._v(" "),a("dd",{staticClass:"tel"},[t._v(t._s(s.tel))])]),t._v(" "),a("div",{staticClass:"addr-opration addr-del"},[a("a",{staticClass:"addr-del-btn",attrs:{href:"javascript:;"},on:{click:function(a){t.delAddressConfirm(s.addressId)}}},[a("svg",{staticClass:"icon icon-del"},[a("use",{attrs:{"xlink:href":"#icon-del"}})])])]),t._v(" "),a("div",{staticClass:"addr-opration addr-set-default"},[s.isDefault?t._e():a("a",{staticClass:"addr-set-default-btn",attrs:{href:"javascript:;"},on:{click:function(a){t.setDefault(s.addressId)}}},[a("i",[t._v("设为默认地址")])])]),t._v(" "),s.isDefault?a("div",{staticClass:"addr-opration addr-default"},[t._v("默认地址")]):t._e()])}),t._v(" "),a("li",{staticClass:"addr-new"},[a("div",{staticClass:"add-new-inner"},[a("i",{staticClass:"icon-add"},[a("svg",{staticClass:"icon icon-add"},[a("use",{attrs:{"xlink:href":"#icon-add"}})])]),t._v(" "),a("p",[t._v("新增收货地址")])])])],2)]),t._v(" "),a("div",{staticClass:"shipping-addr-more"},[a("a",{staticClass:"addr-more-btn up-down-btn",class:{open:t.limit>3},attrs:{href:"javascript:;"},on:{click:t.expand}},[t._v("\n                            更多地址\n                            "),t._m(3)])])]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("div",{staticClass:"next-btn-wrap"},[a("router-link",{staticClass:"btn btn--m btn--red",attrs:{to:{path:"orderConfirm",query:{addressId:t.selectedAddrId}}}},[t._v("去结算")])],1)])])]),t._v(" "),a("modal",{attrs:{mdShow:t.isMdShow_del},on:{close:t.closeModal}},[a("p",{attrs:{slot:"message"},slot:"message"},[t._v("\n            您是否确认要删除此地址?\n        ")]),t._v(" "),a("div",{attrs:{slot:"btnGroup"},slot:"btnGroup"},[a("a",{staticClass:"btn btn--m",attrs:{href:"javascript:;"},on:{click:t.delAddress}},[t._v("确认")]),t._v(" "),a("a",{staticClass:"btn btn--m btn--red",attrs:{href:"javascript:;"},on:{click:function(s){t.isMdShow_del=!1}}},[t._v("取消")])])]),t._v(" "),a("modal",{attrs:{mdShow:t.isMdShow_undel},on:{close:t.closeModal}},[a("p",{attrs:{slot:"message"},slot:"message"},[t._v("\n            地址列表至少有一条数据，已无法继续删除。\n        ")]),t._v(" "),a("div",{attrs:{slot:"btnGroup"},slot:"btnGroup"},[a("a",{staticClass:"btn btn--m btn--red",attrs:{href:"javascript:;"},on:{click:function(s){t.isMdShow_undel=!1}}},[t._v("取消")])])]),t._v(" "),a("nav-footer")],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-title-normal"},[a("h2",{staticClass:"page-title-h2"},[a("span",[t._v("check out")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"check-step"},[a("ul",[a("li",{staticClass:"cur"},[a("span",[t._v("确认")]),t._v(" 收货地址")]),t._v(" "),a("li",[a("span",[t._v("核对")]),t._v(" 订单信息")]),t._v(" "),a("li",[a("span",[t._v("支付")]),t._v(" 方式")]),t._v(" "),a("li",[a("span",[t._v("成功提交")]),t._v(" 订单")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-title-normal checkout-title"},[a("h2",[a("span",[t._v("收货人信息")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("i",{staticClass:"i-up-down"},[a("i",{staticClass:"i-up-down-l"}),t._v(" "),a("i",{staticClass:"i-up-down-r"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-title-normal checkout-title"},[a("h2",[a("span",[t._v("货运方式")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"shipping-method-wrap"},[a("div",{staticClass:"shipping-method"},[a("ul",[a("li",{staticClass:"check"},[a("div",{staticClass:"name"},[t._v("京东快递")]),t._v(" "),a("div",{staticClass:"price"},[t._v("包邮")]),t._v(" "),a("div",{staticClass:"shipping-tips"},[a("p",[t._v("自签收后7天内退货，15天内换货，可享1次上门取件服务")])])])])])])}],d={render:i,staticRenderFns:e};s.a=d},aFX8:function(t,s,a){s=t.exports=a("FZ+f")(!0),s.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Address.vue",sourceRoot:""}])},e75Y:function(t,s,a){"use strict";var i=a("HkA2"),e=a("Ck0u"),d=a("hRx0"),c=a("/o5o"),l=(a("ywmu"),a("mtWM")),n=a.n(l);s.a={data:function(){return{limit:3,checkIndex:0,selectedAddrId:"",addressList:[],isMdShow_del:!1,isMdShow_undel:!1,addressId:""}},mounted:function(){this.init()},computed:{addressListFilter:function(){return this.addressList.slice(0,this.limit)}},components:{NavHeader:i.a,NavFooter:e.a,NavBread:d.a,Modal:c.a},methods:{init:function(){var t=this;n.a.get("http://localhost:4000/users/addressList").then(function(s){var a=s.data;t.addressList=a.result,t.selectedAddrId=t.addressList[0].addressId})},expand:function(){3==this.limit?this.limit=this.addressList.length:this.limit=3},setDefault:function(t){var s=this;n.a.post("http://localhost:4000/users/setDefault",{addressId:t}).then(function(t){"0"==t.data.status&&(console.log("set default"),s.init())})},closeModal:function(){this.isMdShow_del=!1,this.isMdShow_undel=!1},delAddressConfirm:function(t){this.addressList.length>1?(this.isMdShow_del=!0,this.addressId=t):this.isMdShow_undel=!0},delAddress:function(){var t=this;n.a.post("http://localhost:4000/users/delAddress",{addressId:this.addressId}).then(function(s){var a=s.data;"0"==a.status?(console.log("del suc"),t.isMdShow_del=!1,t.init()):-1==a.status&&(t.isMdShow_del=!1,t.isMdShow_undel=!0)})}}}}});
//# sourceMappingURL=3.f61dfee25e39a742e8ee.js.map